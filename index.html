<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Focus Companion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .main-content {
            padding: 30px;
        }

        .study-timer {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }

        .timer-display {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .session-setup {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .distraction-tracker {
            background: #fff3cd;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .distraction-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .distraction-input input {
            flex: 1;
            padding: 10px;
            border: 2px solid #ffc107;
            border-radius: 8px;
        }

        .distraction-list {
            max-height: 200px;
            overflow-y: auto;
            background: white;
            border-radius: 8px;
            padding: 15px;
        }

        .distraction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .distraction-item:last-child {
            border-bottom: none;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #27ae60;
        }

        .stat-label {
            color: #2c3e50;
            margin-top: 5px;
        }

        .progress-section {
            background: #f0f8ff;
            border-radius: 15px;
            padding: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.3s ease;
        }

        .motivational-quote {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin-top: 25px;
            font-style: italic;
            color: #2c3e50;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .session-setup {
                grid-template-columns: 1fr;
            }
            
            .timer-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📚 Study Focus Companion</h1>
            <p>Your personal assistant for productive study sessions</p>
        </div>

        <div class="main-content">
            <div class="session-setup">
                <div class="input-group">
                    <label for="studySubject">What are you studying?</label>
                    <input type="text" id="studySubject" placeholder="e.g., Mathematics, Physics, Programming">
                </div>
                <div class="input-group">
                    <label for="studyGoal">Session Goal (minutes)</label>
                    <select id="studyGoal">
                        <option value="25">25 minutes (Pomodoro)</option>
                        <option value="45">45 minutes</option>
                        <option value="60">1 hour</option>
                        <option value="90">1.5 hours</option>
                        <option value="120">2 hours</option>
                    </select>
                </div>
            </div>

            <div class="study-timer">
                <h2>Study Timer</h2>
                <div class="timer-display" id="timerDisplay">00:00</div>
                <div class="timer-controls">
                    <button class="btn btn-success" id="startBtn" onclick="startStudySession()">Start Session</button>
                    <button class="btn btn-danger hidden" id="pauseBtn" onclick="pauseSession()">Pause</button>
                    <button class="btn btn-primary hidden" id="resumeBtn" onclick="resumeSession()">Resume</button>
                    <button class="btn btn-danger hidden" id="stopBtn" onclick="stopSession()">End Session</button>
                </div>
            </div>

            <div class="distraction-tracker">
                <h3>🚫 Distraction Tracker</h3>
                <p>Log when you get distracted to build awareness</p>
                <div class="distraction-input">
                    <input type="text" id="distractionInput" placeholder="What distracted you? (e.g., phone notification, social media)">
                    <button class="btn btn-primary" onclick="logDistraction()">Log It</button>
                </div>
                <div class="distraction-list" id="distractionList">
                    <p style="text-align: center; color: #666;">No distractions logged yet. Stay focused! 💪</p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalStudyTime">0</div>
                    <div class="stat-label">Minutes Studied Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="sessionsCompleted">0</div>
                    <div class="stat-label">Sessions Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="distractionCount">0</div>
                    <div class="stat-label">Distractions Logged</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="focusScore">100</div>
                    <div class="stat-label">Focus Score %</div>
                </div>
            </div>

            <div class="progress-section">
                <h3>📈 Today's Progress</h3>
                <p>Current session progress</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="progressText">Ready to start your study session!</p>
            </div>

            <div class="motivational-quote" id="motivationalQuote">
                "The expert in anything was once a beginner who refused to give up."
            </div>
        </div>
    </div>

    <script>
        let currentSession = {
            isActive: false,
            isPaused: false,
            startTime: null,
            elapsedTime: 0,
            goalMinutes: 25,
            subject: ''
        };

        let dailyStats = {
            totalStudyTime: parseInt(localStorage.getItem('totalStudyTime') || '0'),
            sessionsCompleted: parseInt(localStorage.getItem('sessionsCompleted') || '0'),
            distractionsToday: parseInt(localStorage.getItem('distractionsToday') || '0'),
            lastResetDate: localStorage.getItem('lastResetDate') || new Date().toDateString()
        };

        let timerInterval;
        let distractions = JSON.parse(localStorage.getItem('todayDistractions') || '[]');

        const motivationalQuotes = [
            "The expert in anything was once a beginner who refused to give up.",
            "Success is the sum of small efforts repeated day in and day out.",
            "Don't watch the clock; do what it does. Keep going.",
            "The future depends on what you do today.",
            "Education is the most powerful weapon you can use to change the world.",
            "Every accomplishment starts with the decision to try.",
            "Your limitation—it's only your imagination.",
            "Push yourself, because no one else is going to do it for you.",
            "Great things never come from comfort zones.",
            "Dream it. Wish it. Do it."
        ];

        function initializeApp() {
            checkDateReset();
            updateDisplay();
            loadDistractions();
            showRandomQuote();
            updateStats();
        }

        function checkDateReset() {
            const today = new Date().toDateString();
            if (dailyStats.lastResetDate !== today) {
                dailyStats.totalStudyTime = 0;
                dailyStats.sessionsCompleted = 0;
                dailyStats.distractionsToday = 0;
                dailyStats.lastResetDate = today;
                distractions = [];
                saveData();
            }
        }

        function startStudySession() {
            const subject = document.getElementById('studySubject').value.trim();
            const goalMinutes = parseInt(document.getElementById('studyGoal').value);

            if (!subject) {
                alert('Please enter what you\'re studying!');
                return;
            }

            currentSession = {
                isActive: true,
                isPaused: false,
                startTime: Date.now(),
                elapsedTime: 0,
                goalMinutes: goalMinutes,
                subject: subject
            };

            document.getElementById('startBtn').classList.add('hidden');
            document.getElementById('pauseBtn').classList.remove('hidden');
            document.getElementById('stopBtn').classList.remove('hidden');

            timerInterval = setInterval(updateTimer, 1000);
            
            updateProgressText(`Studying ${subject} - Stay focused! 🎯`);
        }

        function pauseSession() {
            if (currentSession.isActive && !currentSession.isPaused) {
                currentSession.isPaused = true;
                clearInterval(timerInterval);
                
                document.getElementById('pauseBtn').classList.add('hidden');
                document.getElementById('resumeBtn').classList.remove('hidden');
                
                updateProgressText('Session paused - Take a breath and come back! 😌');
            }
        }

        function resumeSession() {
            if (currentSession.isActive && currentSession.isPaused) {
                currentSession.isPaused = false;
                currentSession.startTime = Date.now() - currentSession.elapsedTime;
                
                timerInterval = setInterval(updateTimer, 1000);
                
                document.getElementById('resumeBtn').classList.add('hidden');
                document.getElementById('pauseBtn').classList.remove('hidden');
                
                updateProgressText(`Back to studying ${currentSession.subject}! 💪`);
            }
        }

        function stopSession() {
            if (currentSession.isActive) {
                clearInterval(timerInterval);

                const finalMinutes = Math.floor(currentSession.elapsedTime / 60000);
                const wasCompleted = finalMinutes >= currentSession.goalMinutes;
                
                dailyStats.totalStudyTime += finalMinutes;
                if (wasCompleted) {
                    dailyStats.sessionsCompleted++;
                }
                
                document.getElementById('startBtn').classList.remove('hidden');
                document.getElementById('pauseBtn').classList.add('hidden');
                document.getElementById('resumeBtn').classList.add('hidden');
                document.getElementById('stopBtn').classList.add('hidden');
                
                currentSession.isActive = false;
                currentSession.elapsedTime = 0;

                if (wasCompleted) {
                    updateProgressText(`🎉 Great job! You completed ${finalMinutes} minutes of ${currentSession.subject}!`);
                    showRandomQuote();
                } else {
                    updateProgressText(`Session ended. You studied for ${finalMinutes} minutes. Every minute counts! 👍`);
                }
                
                updateDisplay();
                updateStats();
                saveData();
            }
        }

        function updateTimer() {
            if (currentSession.isActive && !currentSession.isPaused) {
                currentSession.elapsedTime = Date.now() - currentSession.startTime;
                updateDisplay();
                updateProgress();
                
                // Check if goal is reached
                const minutes = Math.floor(currentSession.elapsedTime / 60000);
                if (minutes >= currentSession.goalMinutes) {
                    stopSession();
                }
            }
        }

        function updateDisplay() {
            const minutes = Math.floor(currentSession.elapsedTime / 60000);
            const seconds = Math.floor((currentSession.elapsedTime % 60000) / 1000);
            
            document.getElementById('timerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateProgress() {
            if (currentSession.isActive) {
                const progress = Math.min((currentSession.elapsedTime / (currentSession.goalMinutes * 60000)) * 100, 100);
                document.getElementById('progressFill').style.width = progress + '%';
            } else {
                document.getElementById('progressFill').style.width = '0%';
            }
        }

        function updateProgressText(text) {
            document.getElementById('progressText').textContent = text;
        }

        function logDistraction() {
            const input = document.getElementById('distractionInput');
            const distractionText = input.value.trim();
            
            if (!distractionText) {
                alert('Please describe what distracted you!');
                return;
            }
            
            const distraction = {
                text: distractionText,
                time: new Date().toLocaleTimeString(),
                sessionActive: currentSession.isActive
            };
            
            distractions.push(distraction);
            dailyStats.distractionsToday++;
            
            input.value = '';
            loadDistractions();
            updateStats();
            saveData();
            
            const encouragements = [
                "Awareness is the first step to improvement! 🌟",
                "You're building better habits by tracking this! 💪",
                "Every distraction logged is progress toward better focus! 🎯",
                "Great job being mindful of your attention! 🧠"
            ];
            
            const randomEncouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
            updateProgressText(randomEncouragement);
        }

        function loadDistractions() {
            const list = document.getElementById('distractionList');
            
            if (distractions.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #666;">No distractions logged yet. Stay focused! 💪</p>';
                return;
            }
            
            list.innerHTML = distractions.slice(-5).reverse().map((distraction, index) => `
                <div class="distraction-item">
                    <span>${distraction.text}</span>
                    <small>${distraction.time}</small>
                </div>
            `).join('');
        }

        function updateStats() {
            document.getElementById('totalStudyTime').textContent = dailyStats.totalStudyTime;
            document.getElementById('sessionsCompleted').textContent = dailyStats.sessionsCompleted;
            document.getElementById('distractionCount').textContent = dailyStats.distractionsToday;
            
            const focusScore = dailyStats.totalStudyTime > 0 ? 
                Math.max(0, Math.round(100 - (dailyStats.distractionsToday / dailyStats.totalStudyTime * 100))) : 100;
            document.getElementById('focusScore').textContent = focusScore;
        }

        function showRandomQuote() {
            const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
            document.getElementById('motivationalQuote').textContent = randomQuote;
        }

        function saveData() {
            localStorage.setItem('totalStudyTime', dailyStats.totalStudyTime.toString());
            localStorage.setItem('sessionsCompleted', dailyStats.sessionsCompleted.toString());
            localStorage.setItem('distractionsToday', dailyStats.distractionsToday.toString());
            localStorage.setItem('lastResetDate', dailyStats.lastResetDate);
            localStorage.setItem('todayDistractions', JSON.stringify(distractions));
        }

        document.addEventListener('DOMContentLoaded', initializeApp);

        setInterval(showRandomQuote, 300000);
    </script>
</body>
</html>